{"version":3,"sources":["services/http.js","Components/Contacts/Contacts.js","Components/Form/Form.js","Components/Notifications/Notifications.js","App.js","index.js"],"names":["baseURL","getPersons","a","axios","get","res","data","postPerson","person","post","deletePerson","id","delete","status","putPerson","put","Contacts","props","useState","list","setList","useEffect","onChange","deleting","newList","filter","el","handleDelete","window","confirm","http","onError","setTimeout","map","name","number","onClick","Form","newName","newNumber","onSubmit","event","contactSubmit","value","onInput","nameChange","required","numberChange","type","Notifications","message","App","persons","setPersons","setNewNumber","setNewName","setFilter","error","setError","filtered","toLowerCase","includes","target","preventDefault","newPerson","length","isDuplicate","forEach","change","findIndex","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01c03d46.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseURL = \"https://project-phonebook.herokuapp.com\";\r\nconst getPersons = async () => {\r\n\tconst res = await axios.get(`${baseURL}/persons`);\r\n\treturn res.data;\r\n};\r\nconst postPerson = async (person) => {\r\n\tconst res = await axios.post(`${baseURL}/persons`, person);\r\n\treturn res;\r\n};\r\nconst deletePerson = async (id) => {\r\n\tconst res = await axios.delete(`${baseURL}/persons/${id}`);\r\n\treturn res.status;\r\n};\r\nconst putPerson = async (id, data) => {\r\n\tconst res = await axios.put(`${baseURL}/persons/${id}`, data);\r\n\treturn res;\r\n};\r\nexport default { getPersons, postPerson, deletePerson, putPerson };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport http from \"../../services/http.js\";\r\nfunction Contacts(props) {\r\n\tconst [list, setList] = useState(props.list);\r\n\tuseEffect(() => {\r\n\t\tprops.onChange(list);\r\n\t}, [list]);\r\n\tuseEffect(() => {\r\n\t\tsetList(props.list);\r\n\t}, [props.list]);\r\n\r\n\tconst deleting = (person) => {\r\n\t\tconst newList = list.filter((el) => {\r\n\t\t\treturn el.id !== person;\r\n\t\t});\r\n\t\tsetList(newList);\r\n\t};\r\n\tconst handleDelete = async (person) => {\r\n\t\ttry {\r\n\t\t\tif (window.confirm(`Delete ${person}?`)) {\r\n\t\t\t\tdeleting(person);\r\n\t\t\t\tconst res = await http.deletePerson(person);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tprops.onError(`${person} already removed from server`);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tprops.onError(null);\r\n\t\t\t}, 5000);\r\n\t\t\tdeleting(person);\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ul>\r\n\t\t\t\t{list.map((el) => (\r\n\t\t\t\t\t<div key={el.name}>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t{el.name} - {el.number}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleDelete(el.id);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Contacts;\r\n","import React from \"react\";\r\n\r\nfunction Form(props) {\r\n\tconst { newName, newNumber } = props;\r\n\tconst changeName = (event) => {\r\n\t\tprops.nameChange(event);\r\n\t};\r\n\tconst changeNumber = (event) => {\r\n\t\tprops.numberChange(event);\r\n\t};\r\n\tconst submitContact = (event) => {\r\n\t\tprops.contactSubmit(event);\r\n\t};\r\n\treturn (\r\n\t\t<form onSubmit={submitContact}>\r\n\t\t\t<div>\r\n\t\t\t\tName: <input value={newName} onInput={changeName} required />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tNumber:\r\n\t\t\t\t<input value={newNumber} onInput={changeNumber} required />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nfunction Notifications({ message }) {\r\n\treturn message === null ? null : (\r\n\t\t<div>\r\n\t\t\t<span>{message}</span>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Notifications;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Contacts from \"./Components/Contacts/Contacts\";\r\nimport Form from \"./Components/Form/Form\";\r\nimport http from \"./services/http.js\";\r\nimport Notifications from \"./Components/Notifications/Notifications.js\";\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tconst res = await http.getPersons();\r\n\t\t\tsetPersons(res);\r\n\t\t})();\r\n\t}, []);\r\n\r\n\tconst [newNumber, setNewNumber] = useState(\"\");\r\n\tconst [newName, setNewName] = useState(\"\");\r\n\tconst [filter, setFilter] = useState(persons);\r\n\tconst [error, setError] = useState(null);\r\n\t////////////////////////////////////////////////////////\r\n\tconst handleNameChange = (event) => {\r\n\t\tsetNewName(event.target.value);\r\n\t};\r\n\t////////////////////////////////////////////////////////\r\n\tuseEffect(() => {\r\n\t\tsetFilter(persons);\r\n\t}, [persons]);\r\n\t////////////////////////////////////////////////////////\r\n\tconst handleNumberChange = (event) => {\r\n\t\tsetNewNumber(event.target.value);\r\n\t};\r\n\t////////////////////////////////////////////////////////\r\n\r\n\tconst handleNameSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst newPerson = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t\tid: persons.length + 1,\r\n\t\t};\r\n\t\tlet isDuplicate = false;\r\n\r\n\t\tpersons.forEach((el) => {\r\n\t\t\tif (el.name === newName || el.number === newNumber) {\r\n\t\t\t\treturn (isDuplicate = true);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (isDuplicate) {\r\n\t\t\tconst replace = window.confirm(\r\n\t\t\t\t`${newName} is already on the list, do you wish to replace number?`\r\n\t\t\t);\r\n\t\t\tif (replace) {\r\n\t\t\t\tconst change = [...persons];\r\n\t\t\t\tconst index = persons.findIndex((el) => {\r\n\t\t\t\t\treturn el.name === newName;\r\n\t\t\t\t});\r\n\t\t\t\tchange[index] = newPerson;\r\n\t\t\t\tsetPersons(change);\r\n\r\n\t\t\t\thttp.putPerson(newName, newPerson);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst newPersons = [...persons, newPerson];\r\n\t\t\tsetPersons(newPersons);\r\n\t\t\thttp.postPerson(newPerson);\r\n\t\t}\r\n\t\tsetNewName(\"\");\r\n\t\tsetNewNumber(\"\");\r\n\t};\r\n\t////////////////////////////////////////////////////////\r\n\tconst handleFilter = (event) => {\r\n\t\tconst filtered = persons.filter((el) =>\r\n\t\t\tel.name.toLowerCase().includes(event.target.value.toLowerCase())\r\n\t\t);\r\n\t\tsetFilter(filtered);\r\n\t};\r\n\tconst handleDataChange = (data) => {\r\n\t\tsetPersons(data);\r\n\t};\r\n\tconst handleHttpError = (error) => {\r\n\t\tsetError(error);\r\n\t};\r\n\t////////////////////////////////////////////////////////\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\tFilter: <input onInput={handleFilter} />\r\n\t\t\t<h2>Add a new</h2>\r\n\t\t\t<Form\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\tcontactSubmit={handleNameSubmit}\r\n\t\t\t\tnameChange={handleNameChange}\r\n\t\t\t\tnumberChange={handleNumberChange}\r\n\t\t\t/>\r\n\t\t\t<hr />\r\n\t\t\t<Notifications message={error} />\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Contacts\r\n\t\t\t\tlist={filter}\r\n\t\t\t\tonChange={handleDataChange}\r\n\t\t\t\tonError={handleHttpError}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}